Düşük güç geniş alan ağ (DGAA) teknolojileri, geniş coğrafi alanlara yayılmış çok sayıda düşük güçlü cihaza ekonomik kablosuz haberleşme altyapısı sağlar. Hücresel ağlar, Bluetooth, WiFi gibi geleneksel kablosuz haberleşme teknolojileri düşük güç ve uzun haberleşme menzilini aynı anda sağlayamazlar. Hücresel ağlar uzun menzil ve yüksek veri hızı sağlayabilirler fakat karmaşık ve yüksek güç tüketimine sahiptirler. Bluetooth ve WiFi gibi kablosuz haberleşme teknolojileri ise düşük güç tüketimi sağlayabilirler fakat haberleşme menzilleri kısıtlıdır. DGAA teknolojileri veri hızı ve gecikme süresinden feragat edip düşük güç tüketimi ve uzun haberleşme menzili sağlamayı hedefler. Son yıllarda DGAA teknolojileri düşük güç gereksinimi isteyen nesnelerin interneti ve akıllı şehir uygulamaları için daha yoğun kullanılmaya başlanmıştır.

Bu tezin odağı yaygın olarak kullanılan DGAA teknolojilerinden biri olan LoRa üzerinedir. LoRa, Semtech şirketi tarafından geliştirilen tescilli bir DGAA teknolojisidir. Kâr amacı gütmeyen bir kuruluş olan LoRa Alliance tarafından büyük ölçekli LoRa ağları oluşturmak ve bu ağlar arasında birlikte çalışabilirlik sağlamak amacıyla LoRaWAN adı verilen açık kaynak bir ortama erişim kontrol standardı geliştirilmiştir. LoRaWAN ağlarındaki düşük güçlü, adanmış bir göreve sahip cihazlara uç düğüm adı verilir. LoRaWAN ağlarında birden fazla kanalı sürekli dinleyip güç şebekesine ve sabit bir hatta sahip cihazlara ise ağ geçidi adı verilir. Ağ sunucusu ise ağ ile ilgili uygulamaların çalıştığı, ağın beyni konumundadır. Ağ sunucusu ağın performansını artırmak için uç düğümlerin haberleşme parametrelerini değiştirebilir. LoRaWAN uç düğümleri sadece ağ geçitleri ile haberleşebilir, kendi aralarında haberleşme yapamazlar. Bir uç düğüm birden fazla ağ geçidi tarafından dinlenebilir. Güç tüketimini düşük tutmak için uç düğümler yalın ALOHA prensibi ile haberleşme yaparlar, yani uç düğümler yayın yapmaya başlamadan önce kablosuz ortamının müsait olup olmadığını kontrol etmezler. Bir uç düğüm ağ geçidi ile haberleşirken başka bir uç düğüm haberleşmeye başlayabilir ve sinyal çakışmaya uğradığı için haberleşme ağ geçidi tarafından çözümlenemeyebilir.

LoRa, Chirp Spread Spectrum (CSS) tabanlı marka tescilli bir modülasyon tekniğidir. CSS tabanlı olması, uzun menzilli iletişim ve parazitlere karşı dayanıklılık sağlar. LoRa modülasyonu, sinyal frekansının belirli bir kanal içerisinde bandı baştan sona taramasıyla çalışır. Bu taramanın yönü haberleşme sembolünü belirler. Taramanın hızı ise yayılma faktörü (YF) olarak adlandırılır. LoRa 7'den 12'ye kadar 6 farklı yayılma faktörünü desteklemektedir. Bir LoRa haberleşmesinin yayılma faktörünü değiştirerek, veri hızından feda edip, haberleşme menzili arttırılabilir. Kısaca yayılma faktörü arttıkça veri iletim hızı azalır ve güç tüketimi artar fakat karşılığında haberleşme menzili uzar. Ayrıca farklı LoRa yayılma faktörüne sahip haberleşmeler birbirlerine karşı ortogonaldir. Yani aynı kanal içerisinde farklı yayılma faktörüne sahip LoRa iletişimleri, belirli bir seviyeye kadar birbirlerine parazit oluşturmadan haberleşebilir. Bu sebeple uç düğümlerin yayılma faktörü seçimi gerçekleşen çakışma sayısına ve ağ performansına önemli ölçüde etki eder. Uç düğümlerin kendileri için en iyi yayılma faktörünü seçmesi zordur çünkü uç düğümler etraflarındaki yayınlardan haberdar değildir. Uç düğümler güç tüketimini düşük tutmak ve haberleşme süresini kısa tutup çakışma olasılığını düşürmek amacıyla ağ geçidi ile haberleşebilecekleri en düşük yayılma faktörünü seçerler. Fakat etraflarındaki diğer uç düğümler de aynı yayılma faktörü ile yayın yaptıklarında çakışma ihtimali artar. Özellikle yoğun uç düğüm dağılımına sahip ağlarda aynı yayılma faktörlü haberleşmeler ağ performansını ciddi şekilde düşürebilir. Bazı durumlarda uç düğümler ağ geçidine yakın olsalar bile daha yüksek bir yayılma faktörü seçmeleri ağdaki başarılı paket iletim oranını artırabilir. Bu çalışma içerisinde, LoRaWAN ağları için yayılma faktörü atamasını iyileştirmek amacıyla yapılmış diğer akademik çalışmalar araştırılmıştır ve güncel teknolojik durum incelenmiştir.

Bu çalışmada yayılma faktörü seçiminin LoRaWAN ağ performansına etkisini gözlemlemek amacıyla Python programlama dili ile yeni bir ayrık olay simülasyon yazılımı geliştirilmiştir. Geliştirilen simülasyon aracı ile çoklu ağ geçitlerine ve uç düğümlere sahip LoRaWAN ağları simüle edilebilir. Simülasyon aracı; yayılma faktörü ataması yöntemi, ağ geçidi sayısı, uç düğüm sayısı, ağ topolojisi yarıçapı, paket büyüklüğü, paket üretilme sıklığı, paket üretilme tipi gibi girdiler alarak; üretilen paket sayısı, iletilen paket sayısı, çakışmaya uğramış paket sayısı, alıcı hassasiyetinin altında kalmış paket sayısı, ağ paket iletilme oranı, ağ veri hızı, toplam iletim enerji tüketimi gibi çıktılar üretebilir.

Simülasyon aracında, Semtech Şirketi tarafından sağlanan, LoRa haberleşmesi bağlantı kalitesi modeli kullanılmıştır. Aynı ve farklı yayılma faktörlerine sahip LoRa haberleşmelerinin girişim modeli için ise, önceki akademik çalışmalarda kullanılan modeller kullanılmıştır. Paketlerin iletim sonuçları (başarılı, çakışmaya uğramış veya alıcı hassasiyeti altında kalmış) bu iki model kullanılarak hesaplanmıştır. Farklı kablosuz haberleşme teknolojilerinin yarattığı parazitler ihmal edilmiştir. Simülasyon aracı ile çeşitli ağ geçidi sayısı, uç düğüm sayısı, ağ topolojisi yarıçapı, paket büyüklüğü, paket üretilme sıklığı ile üretilmiş çıktılar paylaşılmış ve simülasyon aracının ürettiği çıktıların doğruluğu incelenmiştir.

Bu çalışmada yayılma faktörü seçiminin ağ performansına etkisi detaylı olarak incelenmiştir. Çakışma sayısını artıran durumlar incelenmiştir ve bu durumların değerlendirilmesi ile çakışma sayısını düşürebilecek yayılma faktörü arttırma yöntemi anlatılmıştır. Yayılma faktörünü artırmak haberleşme süresini uzattığı için yüksek yayılma faktörüne sahip haberleşmeler ile olan çakışma ihtimalini arttırır. Özellikle birden fazla ağ geçidine sahip ağlarda, ağ geçitlerinin kapsama alanlarının kesiştiği bölgelerde kalan uç düğümlerin yayılma faktörlerinin artırılması çok dikkatli yapılmalıdır. Her bir LoRaWAN ağı birbirinden farklı olduğu için uç düğümlerin yayılma faktörlerini yönetmek için tek bir yayılma faktörü atama kuralı türetmek zordur. Bu sebeple yayılma faktörü seçimi için makine öğrenmesi kullanan yeni bir yöntem önerilmiştir. Ağın yapısının ve güncel durumunun farkında olan makina öğrenme tabanlı bu yeni yaklaşım ile sabit bir kurala bağlı kalmadan uç düğümler için en uygun yayılma faktörü ataması yapılabilir. Akıllı yayılma faktörü ataması adını verdiğimiz bu yeni yöntem için Destek Vektör Makinesi (DVM) ve Karar Ağacı Öğrenmesi (KAÖ) makine öğrenmesi yöntemleri kullanılmıştır. Bu yöntemde ilk olarak ağ sunucusu ağdaki tüm düğümlerin konumlarını, haberleşmelerinde kullandıkları yayılma faktörlerini ve haberleşme sonuçlarını kayıt altına alır. Daha sonra ağ sunucusu biriktirilen bu veriler üzerinde DVM veya KAÖ yöntemleri ile bir haberleşme tahmin modeli eğitir. Eğitilen bu model ile uç düğümlerin sonraki haberleşmeleri için en uygun yayılma faktörü hesaplanır. Bu model ile her bir uç düğüm için en düşük yayılma faktöründen en yükseğe doğru sırayla haberleşme sonucu tahmin edilir. Haberleşme sonucu başarılı olarak tahmin edilen en düşük yayılma faktörü o uç düğüm için seçilir. Ağ sunucusu, ağ geçitleri vasıtasıyla uç düğümlere yeni yayılma faktörlerini iletir. Uç düğümler sonraki haberleşmelerinde akıllı yayılma faktörü ataması yöntemi ile bulunmuş yeni yayılma faktörlerini kullanır. Bu işlem günlük olarak tüm uç düğümler için tekrarlanır ve yeni yayılma faktörleri günde bir defa ilgili uç düğümlere iletilir.

Akıllı yayılma faktörü ataması yöntemi, geliştirilen simülasyon aracına entegre edilmiştir. Geliştirilen araç öncelikle uç düğümlere rastgele olarak yayılma faktörü atar ve ağı simüle eder. Daha sonra biriktirilen haberleşme kayıtları kullanılarak akıllı yayılma faktörü ataması tahmin modeli oluşturulur ve hesaplanan yeni yayılma faktörleri ile aynı ağ yeniden simüle edilir.

Simülasyon sonuçları göstermektedir ki, akıllı yayılma faktörü ataması yöntemi, rastgele yayılma faktörü ataması ve en düşük yayılma faktörü ataması yöntemlerine göre daha iyi ağ paket iletilme oranı ve toplam iletim enerji tüketimi çıktısı vermektedir. KAÖ makine öğrenmesi yöntemi, DVM makine öğrenmesi yöntemine göre daha iyi ağ performansı sağlamaktadır. Simülasyon sonuçlarına göre kullanılan bu iki akıllı yayılma faktörü ataması yöntemi özellikle yoğun uç düğüm dağılımına sahip LoRaWAN ağlarında, umut vadeden ağ performans iyileştirmesi sağlamaktadır.
